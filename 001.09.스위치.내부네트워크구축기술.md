**스위치(Switch)**를 활용한 **내부 네트워크(LAN)** 구축 기술에 대해 설명드리겠습니다. 스위치는 효율성, 성능, 그리고 **보안** 측면에서 라우터 못지않게 중요한 역할을 합니다.

스위치(L2 장비)는 MAC 주소를 기반으로 통신하며, 내부 트래픽을 효율적으로 관리하고 네트워크를 분할하는 핵심 기능을 수행합니다.

---

## 🛠️ 스위치를 이용한 내부 네트워크 구축 핵심 기술

내부 네트워크(LAN) 구축의 주요 목표는 **고속의 통신 환경**을 제공하고, **트래픽을 효율적으로 분리 및 관리**하며, **접근 제어**를 통해 보안을 확보하는 것입니다.

### 1. 기본 원리: 이더넷 스위칭

* **MAC 주소 기반 전송:** 스위치는 패킷의 **프레임(Frame)**을 수신하면, 프레임 헤더의 **목적지 MAC 주소**를 확인합니다.
* **MAC 주소 테이블 (CAM Table):** 스위치는 어떤 포트에 어떤 MAC 주소가 연결되어 있는지 테이블에 기록해 둡니다.
* **충돌 도메인 분할:** 스위치에 연결된 각 포트는 독립적인 **충돌 도메인(Collision Domain)**이 됩니다. 이를 통해 허브(Hub) 사용 시 발생하던 불필요한 충돌을 막고, 네트워크 성능을 극대화합니다.

---

### 2. VLAN (Virtual LAN)을 통한 논리적 분할

VLAN은 스위치를 이용한 내부망 구축의 **가장 핵심적인 기술**입니다. 물리적으로는 하나의 스위치에 연결되어 있지만, 논리적으로 여러 개의 독립된 네트워크를 생성하는 기술입니다.

| 기능 | 설명 | 전략적 중요성 |
| :--- | :--- | :--- |
| **트래픽 격리** | 브로드캐스트 도메인(Broadcast Domain) 크기를 줄여 불필요한 트래픽을 차단하고 네트워크 성능을 향상시킵니다. | 네트워크 장애 발생 시 영향 범위를 최소화합니다. |
| **보안 강화** | 부서나 역할(예: 영업팀, 서버팜, 게스트)에 따라 통신을 분리하여, 특정 VLAN의 보안 문제가 다른 VLAN으로 확산되는 것을 방지합니다. | 서버나 민감한 데이터 영역을 격리하여 **보안 취약점**을 줄입니다. |
| **유연성** | 사용자의 물리적 위치와 상관없이 논리적인 그룹을 만들 수 있어 이동 및 관리가 용이합니다. | 재택근무 환경이나 잦은 조직 개편에 유연하게 대응합니다. |
| **IEEE 802.1Q:** | VLAN 정보를 프레임에 담아 전송하기 위한 표준 프로토콜입니다. 트렁크 포트(Trunk Port)를 통해 여러 VLAN의 트래픽을 하나의 링크로 전송합니다. |

---

### 3. 스위치 루프 방지 및 이중화

VLAN을 포함한 복잡한 내부망을 구축할 때는 **루프(Loop)**를 방지하고 **경로 이중화**를 확보해야 합니다.

* **STP (Spanning Tree Protocol):** 네트워크에 물리적인 루프가 발생하면 브로드캐스트 스톰(Broadcast Storm)이 발생하여 네트워크가 마비됩니다. STP는 이를 막기 위해 논리적으로 루프가 되는 경로 중 하나를 차단하여 **루프 없는 단일 경로**를 만듭니다. (IEEE 802.1D, 802.1W RSTP)
* **링크 어그리게이션 (Link Aggregation, EtherChannel/LACP):** 여러 개의 물리적 링크를 하나의 논리적 링크(Aggregated Link)로 묶어 **대역폭을 증가**시키고, 한 링크에 장애 발생 시에도 통신이 유지되는 **이중화**를 제공합니다.

---

### 4. 보안 및 접근 제어 기술

스위치는 내부망의 **접근 통제**를 위한 첫 번째 방어선 역할을 합니다.

* **포트 보안 (Port Security):** 스위치 포트에 연결되는 MAC 주소의 개수를 제한하거나, 특정 MAC 주소만 통신을 허용하도록 설정하여 **미승인 장치의 접근**을 차단합니다.
* **802.1X (사용자 인증):** 포트에 장치가 연결될 때 사용자 또는 장치 인증(ID/PW 또는 인증서)을 거치도록 강제하여, 인증된 장치만 네트워크 접근을 허용합니다. (예: 기업 게스트 네트워크 접근 시 인증)
* **DHCP 스누핑 (DHCP Snooping):** 네트워크에 악의적인 DHCP 서버가 설치되어 IP 주소 할당을 방해하거나 사용자 정보를 탈취하는 것을 방지합니다. 신뢰할 수 있는 DHCP 서버만 지정하여 보호합니다.

---

> **IT 전문가 팁 (DB/보안 연관):**
>
> 고성능 **DB 서버 팜**을 구축할 때, 스위치에서 **VLAN 분리**와 **Port Security**를 적용하면 DB 서버로의 **불필요한 접근**과 **브로드캐스트 트래픽**을 완벽하게 차단하여 **성능과 보안**을 동시에 확보할 수 있습니다. 스위치의 **MAC 주소 기반 접근 제어**는 L3 라우터의 IP 기반 제어보다 더 세밀한 내부망 통제 수단임.
