## 🆔 MAC 주소 (Media Access Control Address)와 동작 모드

**MAC 주소**는 네트워크 장치에 부여된 **고유한 물리적 주소**이며, 이 주소를 기반으로 데이터 링크 계층(Layer 2)에서 데이터가 전달됩니다. MAC 주소를 처리하는 방식과 통신 환경에 따라 다양한 **동작 모드**가 발생합니다.

---

### 1. MAC 주소의 구조 및 특징

MAC 주소는 OSI 7계층 중 2계층(데이터 링크 계층)에서 사용되는 48비트(6바이트) 길이의 주소입니다.

* **구조**: `XX:XX:XX:XX:XX:XX` 형식의 16진수로 표현됩니다.
    * **앞 3바이트 (24비트)**: **OUI (Organizationally Unique Identifier)** 또는 제조사 코드로, IEEE에서 할당하며 장비를 만든 제조사를 식별합니다.
    * **뒤 3바이트 (24비트)**: **시리얼 번호**로, 제조사가 각 장비에 부여하는 고유한 번호입니다.
* **특징**:
    * **하드웨어 주소**: NIC(네트워크 인터페이스 카드)에 **영구적으로 할당**되어 변경되지 않습니다 (소프트웨어적인 변경은 가능).
    * **로컬 통신**: 주로 **동일한 LAN** 환경 내에서 데이터를 전달하기 위해 사용됩니다. 라우터를 넘어가면 MAC 주소는 목적지 라우터의 MAC 주소로 변경됩니다.

---

### 2. MAC 주소 기반 통신 동작 모드

MAC 주소는 데이터를 전송하는 대상의 수에 따라 세 가지 동작 모드로 구분됩니다. 이 내용은 이전에 설명드린 통신 방식(유니캐스트, 브로드캐스트, 멀티캐스트)과 직접적으로 연관됩니다.

| 동작 모드 | 설명 | MAC 주소 필터링 | 통신 형태 |
| :---: | :--- | :---: | :---: |
| **유니캐스트 (Unicast)** | 출발지에서 **특정 하나의 목적지** 장치로만 데이터를 전송합니다. | NIC가 자신의 MAC 주소와 일치하는 프레임만 수신합니다. | **1 : 1** |
| **브로드캐스트 (Broadcast)** | 출발지에서 **동일 네트워크 내의 모든 장치**에게 데이터를 전송합니다. | 모든 NIC가 해당 프레임을 수신하고 상위 계층으로 전달합니다. | **1 : All** |
| **멀티캐스트 (Multicast)** | 출발지에서 **특정 그룹에 속한 장치들**에게만 데이터를 전송합니다. | 그룹 주소에 가입된 NIC만 프레임을 수신합니다. | **1 : N** |

#### 🔸 통신 모드별 MAC 주소의 특징

* **유니캐스트 MAC 주소**: 첫 번째 바이트의 최하위 비트(LSB)가 **0**입니다. (예: `00:1A:2B:3C:4D:5E`)
* **브로드캐스트 MAC 주소**: 모든 비트가 1로 채워진 **`FF:FF:FF:FF:FF:FF`**를 사용합니다.
* **멀티캐스트 MAC 주소**: 첫 번째 바이트의 최하위 비트(LSB)가 **1**입니다. 이 주소는 항상 `01:00:5E`로 시작하는 특정 범위에 할당됩니다.

---

### 3. 🛡️ NIC의 특수 동작 모드 (데이터 수신 모드)

일반적으로 NIC는 자신에게 오는 유니캐스트, 브로드캐스트, 또는 자신이 가입한 멀티캐스트 프레임만 수신하고 나머지는 버립니다. 하지만 특정 상황에서는 다른 동작 모드를 사용합니다.

| 동작 모드 | 설명 | 사용 목적 | 해킹/보안 연관성 |
| :---: | :--- | :---: | :--- |
| **프로미스큐어스 모드 (Promiscuous Mode)** | NIC가 자신의 MAC 주소가 아닌, **모든 트래픽**을 수신하고 처리하는 모드입니다. | **네트워크 모니터링**, 패킷 스니퍼(Sniffer) | 해커가 **다른 사람의 통신 내용**을 엿듣기 위해 사용됩니다. |
| **모니터 모드 (Monitor Mode)** | **무선 LAN** 환경에서 사용되는 모드로, 연결되지 않은 AP의 트래픽까지 포함하여 **모든 무선 프레임**을 수신합니다. | 무선 네트워크 분석, 무선 침투 테스트 | 무선 네트워크 환경에서 **인증/연결 과정의 프레임**을 캡처하여 분석하는 데 사용됩니다. |

* **실전 팁**: 보안 관제 시스템에서 **프로미스큐어스 모드**가 비정상적으로 활성화된 장비를 탐지하는 것은 **스니핑(Sniffing)** 시도 여부를 파악하는 중요한 단서가 됩니다.

이러한 MAC 주소의 통신 모드는 스위치(L2)가 네트워크 트래픽을 효율적이고 정확하게 전달하는 핵심 원리입니다. 
