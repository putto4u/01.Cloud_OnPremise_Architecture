**NAT(Network Address Translation)**는 IP 주소 고갈 문제 해결과 네트워크 보안 강화에 필수적인 기술입니다. NAT를 이용한 주소 변환 기술과 그 종류, 작동 원리를 명확하게 설명해 드리겠습니다.

🌐 NAT(Network Address Translation)를 이용한 주소 변환
1. NAT의 정의 및 필요성
NAT는 하나의 네트워크에서 사용하는 사설(Private) IP 주소를 외부 네트워크(인터넷)에서 사용하는 공인(Public) IP 주소로 변환하는 기술입니다.

구분	주소 유형	특징
사설 IP	192.168.x.x, 10.x.x.x 등	내부 네트워크에서만 사용 가능하며, 라우터를 넘어 외부로 나갈 수 없습니다.
공인 IP	전 세계에서 유일하게 할당된 주소	인터넷 통신에 사용되며, 비용을 지불하고 사용합니다.


필요성 (정보기술 전략 관점)
IP 주소 절약 (IPv4 고갈 대응): 적은 수의 공인 IP 주소를 사용하여 수많은 내부 장치(PC, DB 서버 등)가 인터넷에 접근할 수 있게 합니다.

보안 강화: 외부에서 내부 사설 IP 주소를 알 수 없도록 숨겨(Masking), 외부의 불필요한 접근 시도나 공격으로부터 내부망을 보호합니다.

2. NAT의 종류 및 작동 방식
NAT는 주소 변환 방식에 따라 크게 세 가지로 나뉩니다.

2.1. 정적 NAT (Static NAT)
특징	설명
변환 방식	사설 IP 1개와 공인 IP 1개를 1:1로 고정하여 매핑합니다.
용도	외부에서 반드시 접근해야 하는 서버 (예: 웹 서버, 메일 서버, 특정 DB 서버)에 사용됩니다.
단점	공인 IP를 낭비하며, 보안상 위험이 노출될 수 있습니다.
작동 예	내부 서버 192.168.1.10⇔공인 IP 203.0.113.10


2.2. 동적 NAT (Dynamic NAT)
특징	설명
변환 방식	공인 IP 주소 **풀(Pool)**을 미리 정의하고, 내부 장치가 인터넷에 접속할 때 풀 내의 사용 가능한 공인 IP를 할당하여 1:1로 매핑합니다.
용도	내부 장치들이 동시에 인터넷을 사용해야 할 때, 공인 IP 풀을 공유할 때 사용됩니다.
단점	공인 IP 풀의 개수만큼의 내부 장치만 동시에 인터넷 사용이 가능합니다.


2.3. PAT (Port Address Translation) 또는 NAPT
PAT는 NAT의 가장 일반적이고 효율적인 형태로, 대다수의 가정 및 기업 환경에서 사용됩니다.

특징	설명
변환 방식	하나의 공인 IP 주소를 사용하되, **포트 번호(Port Number)**를 이용하여 수많은 내부 장치(사설 IP)의 통신을 구분합니다. (N:1 매핑)
용도	내부 네트워크의 모든 PC가 하나의 공인 IP로 인터넷에 접근할 때 사용됩니다.
장점	공인 IP를 극단적으로 절약할 수 있습니다.
작동 예	내부 PC A(192.168.1.10:1000)와 PC B(192.168.1.20:2000)가 하나의 공인 IP (203.0.113.50)를 공유하고, 포트 번호로 구분됩니다.


3. 주소 변환 테이블 (Translation Table)
NAT 장비(라우터 또는 방화벽)는 주소 변환 시 NAT 테이블을 사용하여 내부 주소와 외부 주소 간의 매핑 정보를 유지합니다.

사설 IP 주소	사설 포트	공인 IP 주소	공인 포트
192.168.1.10	1000	203.0.113.50	55000
192.168.1.20	2000	203.0.113.50	55001


작동 순서 (PAT 예시):

내부 → 외부: $\text{192.168.1.10}:\text{1000}$의 패킷이 NAT 장비에 도착하면, 장비는 이를 $\text{203.0.113.50}:\text{55000}$으로 변환하고 테이블에 기록합니다.

외부 → 내부: 외부 인터넷으로부터 $\text{203.0.113.50}:\text{55000}$으로 응답 패킷이 도착하면, NAT 테이블을 조회하여 원래 주소인 $\text{192.168.1.10}:\text{1000}$으로 역변환하여 내부 장치에 전달합니다.

실전 팁 (보안 및 DB):

보안: 외부에서 NAT 장비로 들어오는 트래픽은 NAT 테이블에 매핑 정보가 없으면 내부로 전달되지 않습니다. 이는 내부망이 기본적으로 방화벽 효과를 얻는 이유이며, 외부에서 시작되는 공격을 방어하는 데 효과적입니다.

DB 서버 접근: 외부 파트너가 특정 내부 DB 서버에 접근해야 할 경우, 일반적으로 정적 NAT를 사용하여 특정 공인 IP와 포트를 DB 서버의 사설 IP 및 DB 포트(3306 등)와 명시적으로 매핑해야 합니다.
